name: Build sample-bilt-repo (parallel)
on: ['push']
jobs:
  generateBuildInformation:
    name: "Generate build information"
    runs-on: ubuntu-latest
    steps:
    - name: "Generate build information"
      id: "generateBuildInformation"
      run: |
        echo <<EOF
          ::set-output name=sample-bilt-monorepo__snake__needs::["generateBuildInformation", "@sample-bilt-monorepo/math-utils"]
        EOF
    outputs:
      sample-bilt-monorepo__snake__needs: ${{steps.generateBuildInformation.outputs.sample-bilt-monorepo__snake__needs}}
  build-sample-bilt-monorepo__snake:
    name: "@sample-bilt-monorepo/snake"
    runs-on: ubuntu-latest
    needs:
      - generateBuildInformation
      - ${{fromJSON(needs.generateBuildInformation.outputs.sample-bilt-monorepo__snake__needs)}}
    steps:
    - name: "Build"
      run: |
        echo Result: ${{needs.generateBuildInformation.result}}
        echo Output: ${{needs.generateBuildInformation.outputs.sample-bilt-monorepo__snake__needs}}
        echo not needy: ${{github.repository}}-${{github.ref}}